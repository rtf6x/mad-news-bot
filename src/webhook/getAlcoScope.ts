const horoscopes = [
  'Сегодня вам звезды советуют не пить... на голодный желудок!',
  'Если утром будет тяжело, просто скажите: \'Это не я, это ретроградный Меркурий!\'',
  'Сегодняшний день обещает быть светлым! Ну, как минимум до первого бокала.',
  'Звезды предупреждают: не перепутайте вечер с утренним кофе.',
  'Ваш стакан сегодня наполовину полон. Или пуст? Проверьте ещё раз!',
  'Сегодня лучше избегать спиртного… или хотя бы спирта.',
  'Сегодня звезды советуют держать баланс — бутылка вина в одной руке, бокал в другой.',
  'Если вдруг забудете, где вчера были, спросите у таксиста.',
  'Звезды говорят, что лучший напиток — это тот, что с друзьями. Особенно если друзья тоже при деле!',
  'Сегодня ваш девиз — пить в меру! Но кто знает, где эта мера?',
  'Если утром вас накроет чувство вины, просто вспомните, что это всё планеты виноваты.',
  'Звезды советуют не смешивать — ни людей, ни напитки.',
  'Сегодня будьте осторожны с вином! Оно может закончиться раньше, чем вы ожидали.',
  'Не переживайте, если вы не помните прошлую ночь. Звезды всё видели, но никому не расскажут!',
  'Вашему организму нужен отдых. Но, возможно, завтра.',
  'Сегодня идеальный день для водных процедур. Начните с ледяного пива!',
  'Звезды рекомендуют оставить один день для детокса. Но не сегодня!',
  'В вашем доме скоро появятся гости. Возможно, вы их не помните, но они там.',
  'Если почувствуете странную тягу к кефиру — это просто знак, что вчера был хороший день.',
  'Сегодня хороший день для общения с друзьями. Особенно с теми, кто умеет открывать бутылки.',
  'Сегодня вас ждёт буря эмоций. А может и просто буря, если вы перепутаете коктейли.',
  'Звезды говорят, что в понедельник не пьют. Но разве звезды знают толк в жизни?',
  'Если утро началось тяжело, просто вспомните, что в мире ещё столько неиспытанных напитков.',
  'Сегодня не стоит смешивать напитки и работу. Ну, если только работа — это открыть очередную бутылку.',
  'Ваш день пройдет гладко, если вы начнёте с лёгкого бокала. Или с двух.',
  'Если не можете найти ключи, просто подумайте — возможно, они там же, где и ваше последнее пиво.',
  'Звезды предсказывают: сегодня вы забудете, что обещали \'больше не пить\'.',
  'Не пытайтесь сегодня быть трезвым, если вокруг столько интересных предложений выпить.',
  'Сегодня вы встретите старого друга. Возможно, это будет виски.',
  'Сегодня лучше не спорить со звездами. Особенно если они на дне бутылки.',
  'Если кажется, что все плохо — не волнуйтесь, звезды говорят, что второй бокал исправит всё.',
  'Звезды советуют не поддаваться соблазну. Хотя бы до вечера.',
  'Сегодня лучше не открывать лишнюю бутылку. Хотя, кто её вообще закрывает?',
  'Ваш сегодняшний девиз: \'Одно пиво — это ещё не повод останавливаться.\'',
  'Сегодня отличный день для принятия решений. Например, какой напиток выбрать первым.',
  'Если вам кто-то скажет, что пора завязывать — не слушайте. Звезды говорят, что это шутка.',
  'Ваш идеальный коктейль: две части веселья, одна часть алкоголя и немножко безрассудства.',
  'Сегодня всё будет отлично, если вы будете пить в правильной компании. С собой!',
  'Не пытайтесь быть слишком серьёзным — звёзды и так знают, что вы не продержитесь до вечера.',
  'Сегодня ваш тост: \'За звезды, что ведут нас к бару!\'',
  'Не пытайтесь выяснить, сколько вы выпили вчера. Это тайна вселенной.',
  'Сегодняшний день будет прекрасным. Или хотя бы веселым — в зависимости от количества рюмок.',
  'Сегодня ваше настроение зависит от градуса. Чем выше, тем лучше!',
  'Звезды советуют вам не пропускать завтрак. Особенно если завтрак — это мимоза.',
  'Сегодня ваш организм заслуживает отдыха. Но бокал вина ему явно не помешает.',
  'Не бойтесь рисковать. Звезды подскажут, что делать, особенно когда речь о выборе напитка.',
  'Сегодняшний вечер пройдет спокойно, если вы начнёте его с бокала чего-нибудь крепкого.',
  'Звезды говорят: если плохо — пей больше воды. Воды с чем-то интересным!',
  'Если голова болит, это знак, что звезды вчера слегка переборщили с планами.',
  'Ваше завтра начнётся легче, если вы решите не пить. Но давайте не будем спешить с выводами!',
];

function getLastDigit(num) {
  const toText = num.toString();
  const lastChar = toText.slice(-1);
  return +(lastChar);
}

function getIndex(num) {
  if (num < 0) {
    return 0;
  }
  if (horoscopes[num]) {
    return num;
  }
  return getIndex(num - horoscopes.length);
}

export default function getAlcoscope(senderId) {
  const userDigit = getLastDigit(senderId);
  const dateIndex = new Date().getDate();
  const horoscopeIndex = getIndex(userDigit * dateIndex);
  return `Прогноз #${getLastDigit(senderId)}: ${horoscopes[horoscopeIndex]}`;
}
